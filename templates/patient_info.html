<!DOCTYPE html>
<html>
  <head>
    <title>Patient Info</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body class="p-4">
    <div class="card p-4 shadow">
      <h4>Patient Name: {{ patient.full_name }}</h4>
      <hr />

      <!-- ✅ QR CODE -->
      <h5>QR Code:</h5>
      <img src="{{ patient.qr_code.url }}" width="200" /><br /><br />

      <!-- ✅ DOWNLOAD BUTTON -->
      <a
        href="{{ patient.qr_code.url }}"
        download="QR_{{patient.full_name}}.png"
        class="btn btn-success"
      >
        Download QR
      </a>

      <hr />

      <!-- ✅ HASH VALUE -->
      <h5>Blockchain Hash:</h5>
      <input
        type="text"
        id="hashBox"
        class="form-control"
        value="{{ patient.blockchain_hash }}"
        readonly
      />

      <br />
      <button class="btn btn-primary" onclick="copyHash()">Copy Hash</button>
    </div>

    <script>
      function copyHash() {
        var copyText = document.getElementById("hashBox");
        copyText.select();
        copyText.setSelectionRange(0, 99999); // For mobile devices
        navigator.clipboard.writeText(copyText.value);
        alert("Hash copied ✅");
      }
    </script>
  </body>
</html>
